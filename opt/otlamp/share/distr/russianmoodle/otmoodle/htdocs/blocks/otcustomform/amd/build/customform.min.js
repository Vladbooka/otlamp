define ("block_otcustomform/customform",["jquery","core/ajax","core/notification","core/str"],function(a,b,c,d){return{init:function init(){a(".mform.otcustomform").submit(function(f){f.preventDefault();var e=a(this),g=a(this).find(".error");if(1>g.length){e.addClass("loading");var h=a(this).serializeArray().reduce(function(a,b){a[b.name]=b.value;return a},{}),i=parseInt(a(this).closest(".block_otcustomform").attr("id").replace(/inst/,"")),j=b.call([{methodname:"block_otcustomform_save_data",args:{id:i,data:JSON.stringify(h)}}]);j[0].done(function(){d.get_strings([{key:"formsaved",component:"block_otcustomform"}]).done(function(a){c.alert("",a[0])}).fail(c.exception).always(function(){e.removeClass("loading")})}).fail(function(){d.get_strings([{key:"formsavefailed",component:"block_otcustomform"}]).done(function(a){c.alert("",a[0])}).fail(c.exception).always(function(){e.removeClass("loading")})})}})}}});
//# sourceMappingURL=customform.min.js.map
