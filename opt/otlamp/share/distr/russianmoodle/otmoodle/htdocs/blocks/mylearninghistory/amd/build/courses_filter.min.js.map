{"version":3,"sources":["../src/courses_filter.js"],"names":["define","$","ASB","ajax","notification","_id","init","id","dialogue_header","options","coursesFilter","done","DObj","addClass","dialogue","set","coursesFilterForm","call","methodname","args","when","coursesFilterFormResponse","content","attr","append","JSON","parse","setContent","initEvents","fail","ex","alert","message","on","e","preventDefault","find","length","data","serializeArray","reduce","obj","item","name","value","trigger"],"mappings":"AAAAA,OAAM,0CAAC,CAAC,QAAD,CAAW,2CAAX,CAAwD,WAAxD,CAAqE,mBAArE,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAiBC,CAAjB,CAAuBC,CAAvB,CAAqC,CACrC,MAAO,CACHC,GAAG,CAAE,IADF,CAGHC,IAAI,CAAE,cAASC,CAAT,CAAaC,CAAb,CAA8BC,CAA9B,CAAuC,CAEzC,GAAIC,CAAAA,CAAa,CAAG,IAApB,CAEAR,CAAG,CAACI,IAAJ,CAASC,CAAT,CAAaC,CAAb,EAA8BG,IAA9B,CAAmC,SAASC,CAAT,CAAe,CAE9CA,CAAI,CAACC,QAAL,CAAcJ,CAAO,CAAC,OAAD,CAArB,EACAG,CAAI,CAACE,QAAL,CAAcC,GAAd,CAAkB,OAAlB,CAA2B,OAA3B,EAEA,GAAIC,CAAAA,CAAiB,CAAGb,CAAI,CAACc,IAAL,CAAU,CAAC,CAC/BC,UAAU,CAAGT,CAAO,WADW,CAE/BU,IAAI,CAAE,CAAC,OAAUV,CAAO,OAAlB,CAFyB,CAAD,CAAV,CAAxB,CAKAR,CAAC,CAACmB,IAAF,CAAOJ,CAAiB,CAAC,CAAD,CAAxB,EACKL,IADL,CACU,SAASU,CAAT,CAAoC,CACtC,GAAIC,CAAAA,CAAO,CAAGrB,CAAC,CAAC,OAAD,CAAf,CACAqB,CAAO,CAACC,IAAR,CAAa,IAAb,CAAmBhB,CAAE,CAAC,gCAAtB,EACAe,CAAO,CAACE,MAAR,CAAeC,IAAI,CAACC,KAAL,CAAWL,CAAX,CAAf,EAEAT,CAAI,CAACe,UAAL,CAAgBL,CAAhB,EAAyBX,IAAzB,CAA8B,UAAU,CACpCD,CAAa,CAACkB,UAAd,CAAyBrB,CAAzB,CACH,CAFD,CAGH,CATL,EAUKsB,IAVL,CAUU,SAASC,CAAT,CAAa,CACflB,CAAI,CAACe,UAAL,CAAgB,OAAhB,EACAvB,CAAY,CAAC2B,KAAb,CAAmBD,CAAE,CAACE,OAAtB,CACH,CAbL,CAcH,CAxBD,CA2BH,CAlCE,CAoCHJ,UAAU,CAAE,oBAASrB,CAAT,CAAa,CAErBN,CAAC,CAAC,IAAIM,CAAJ,CAAO,qCAAR,CAAD,CAAgD0B,EAAhD,CAAmD,QAAnD,CAA6D,SAASC,CAAT,CAAY,CAErEA,CAAC,CAACC,cAAF,GAEA,GAAoC,CAAhC,CAAAlC,CAAC,CAAC,IAAD,CAAD,CAAQmC,IAAR,CAAa,QAAb,EAAuBC,MAA3B,CAAuC,CAEnC,GAAIC,CAAAA,CAAI,CAAGrC,CAAC,CAAC,IAAD,CAAD,CAAQsC,cAAR,GAAyBC,MAAzB,CAAgC,SAASC,CAAT,CAAcC,CAAd,CAAoB,CAC3DD,CAAG,CAACC,CAAI,CAACC,IAAN,CAAH,CAAiBD,CAAI,CAACE,KAAtB,CACA,MAAOH,CAAAA,CACV,CAHU,CAGR,EAHQ,CAAX,CAKAxC,CAAC,CAAC,IAAIM,CAAL,CAAD,CAAUsC,OAAV,CAAkB,aAAlB,CAAiC,CAACP,CAAD,CAAjC,CACH,CACJ,CAbD,CAcH,CApDE,CAsDV,CAxDK,CAAN","sourcesContent":["define(['jquery', 'local_opentechnology/admin_setting_button', 'core/ajax', 'core/notification'],\n    function($, ASB, ajax, notification) {\n    return {\n        _id: null,\n\n        init: function(id, dialogue_header, options) {\n\n            var coursesFilter = this;\n\n            ASB.init(id, dialogue_header).done(function(DObj) {\n\n                DObj.addClass(options['class']);\n                DObj.dialogue.set('width', '700px');\n\n                var coursesFilterForm = ajax.call([{\n                    methodname : options['methodname'],\n                    args: {'config': options['config']}\n                }]);\n\n                $.when(coursesFilterForm[0])\n                    .done(function(coursesFilterFormResponse) {\n                        var content = $('<div>');\n                        content.attr('id', id+'-dialogue-content-form-wrapper');\n                        content.append(JSON.parse(coursesFilterFormResponse));\n\n                        DObj.setContent(content).done(function(){\n                            coursesFilter.initEvents(id);\n                        });\n                    })\n                    .fail(function(ex) {\n                        DObj.setContent('error');\n                        notification.alert(ex.message);\n                    });\n            });\n\n\n        },\n\n        initEvents: function(id) {\n\n            $('#'+id+'-dialogue-content-form-wrapper form').on('submit', function(e) {\n\n                e.preventDefault();\n\n                if ($(this).find('.error').length < 1) {\n\n                    var data = $(this).serializeArray().reduce(function(obj, item) {\n                        obj[item.name] = item.value;\n                        return obj;\n                    }, {});\n\n                    $('#'+id).trigger('readyToSave', [data]);\n                }\n            });\n        }\n    };\n});"],"file":"courses_filter.min.js"}