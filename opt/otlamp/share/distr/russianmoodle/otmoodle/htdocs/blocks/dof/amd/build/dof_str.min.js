define ("block_dof/dof_str",["jquery","block_dof/dof_ajax"],function(a,b){var c=[];return{get_string:function get_string(a,b,c,d){var e=this.get_strings([{key:a,ptype:b,pcode:c,param:d}]);return e.then(function(a){return a[0]})},get_strings:function get_strings(d){for(var e=a.Deferred(),f=[],g=[],h=[],j=function(a){this.resolve(a)},k=function(a){this.reject(a)},l=0,m;l<d.length;l++){m=d[l];m.cacheKey="dof_str/"+m.key+"/"+m.ptype+"/"+m.pcode+"/ru";if("undefined"!=typeof c[m.cacheKey]){h.push(c[m.cacheKey])}else{var n=a.Deferred();g.push({methodname:"dof_get_string",args:{stringid:m.key,ptype:m.ptype,pcode:m.pcode,param:m.param},done:j.bind(n),fail:k.bind(n)});c[m.cacheKey]=n.promise();h.push(c[m.cacheKey])}}if(0<g.length){b.call(g,!0,!1)}a.when.apply(null,h).done(function(){for(var a=0;a<arguments.length;a++){f[a]=arguments[a]}e.resolve(f)}).fail(function(a){e.reject(a)});return e.promise()}}});
//# sourceMappingURL=dof_str.min.js.map
