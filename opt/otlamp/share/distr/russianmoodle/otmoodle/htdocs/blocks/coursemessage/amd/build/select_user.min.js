define(["jquery","core/notification","core/templates"],function(a,b,c){return{_dialogue:a.Deferred(),prevUB:"",init:function(){var d=this;c.renderPix("i/completion-manual-y","core","yes").then(function(a){d._dialogue.resolve(a)})["catch"](b.exception);var e=a(".block_coursemessage"),f=e.find("form"),g=e.find('select[name="form_recipient"]').css("display","none"),h=this.prevUB,i=e.find(".userblock").on("click",function(){var b=a(this);g.children("option[value="+b.data("id")+"]").prop("selected",!0),f.css("display","block"),a.when(d._dialogue).done(function(a){""!=h&&h.find('.icon[title="yes"]').remove(),""!=h&&h.data("id")==b.data("id")?(b.find('.icon[title="yes"]').remove(),f.css("display",""),h=""):(b.append(a),h=b)})});c.renderPix("i/completion-manual-n","core","no").then(function(a){i.append(a)})["catch"](b.exception)}}});