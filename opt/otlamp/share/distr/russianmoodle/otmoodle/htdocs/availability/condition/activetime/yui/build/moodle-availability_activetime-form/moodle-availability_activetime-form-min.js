YUI.add("moodle-availability_activetime-form",function(n,e){M.availability_activetime=M.availability_activetime||{},M.availability_activetime.form=n.Object(M.core_availability.plugin),M.availability_activetime.form.initInner=function(e){var i,t="";for(i in e.timeoptions)t+='<option value="'+i+'">'+e.timeoptions[i]+"</option>";this.get_timeoptions=t},M.availability_activetime.form.getNode=function(e){var i,t,a,l="<label>"+M.util.get_string("title","availability_activetime")+"</label>";return l+='<span class="availability-group form-group"><label><input type="checkbox" name="min" class="form-check-input"/>'+M.util.get_string("option_min","availability_activetime")+'</label><input type="text" name="minval" class="form-control mx-1" title="'+M.util.get_string("label_min","availability_activetime")+'"/><select name="time_min" class="custom-select">',l+=this.get_timeoptions,l+="</select></span>",l+='<span class="availability-group form-group"><label><input type="checkbox" name="max" class="form-check-input"/>'+M.util.get_string("option_max","availability_activetime")+'</label><input type="text" name="maxval" class="form-control mx-1" title="'+M.util.get_string("label_max","availability_activetime")+'"/><select name="time_max" class="custom-select">',l+=this.get_timeoptions,l+="</select></span>",i=n.Node.create("<div>"+l+"</div>"),e.min!==undefined&&(i.one("input[name=min]").set("checked",!0),i.one("input[name=minval]").set("value",e.min),i.one("select[name=time_min]").set("value",e.time_min)),e.max!==undefined&&(i.one("input[name=max]").set("checked",!0),i.one("input[name=maxval]").set("value",e.max),i.one("select[name=time_max]").set("value",e.time_max)),t=function(e,i){var t=e.ancestor().next("input"),a=t.next("select"),l=e.get("checked");return t.set("disabled",!l),a.set("disabled",!l),i&&l&&t.focus(),l},i.all("input[type=checkbox]").each(t),M.availability_activetime.form.addedEvents||(M.availability_activetime.form.addedEvents=!0,(a=n.one(".availability-field")).delegate("change",function(){M.core_availability.form.update()},".availability_activetime select[name=time_min]"),a.delegate("change",function(){M.core_availability.form.update()},".availability_activetime select[name=time_max]"),a.delegate("click",function(){t(this,!0),M.core_availability.form.update()},".availability_activetime input[type=checkbox]"),a.delegate("valuechange",function(){M.core_availability.form.update()},".availability_activetime input[type=text]")),i},M.availability_activetime.form.fillValue=function(e,i){i.one("input[name=min]").get("checked")&&(e.min=this.getValue("minval",i),e.time_min=this.getValueOption("minval",i)),i.one("input[name=max]").get("checked")&&(e.max=this.getValue("maxval",i),e.time_max=this.getValueOption("maxval",i))},M.availability_activetime.form.getValue=function(e,i){var t=i.one("input[name="+e+"]"),a=t.get("value");return/^[0-9]+([.,][0-9]+)?$/.test(a)?parseFloat(a.replace(",",".")):a},M.availability_activetime.form.getValueOption=function(e,i){var t=i.one("input[name="+e+"]"),a=t.next("select").get("value");return a},M.availability_activetime.form.fillErrors=function(e,i){var t={};this.fillValue(t,i),t.min!==undefined&&"string"==typeof t.min||t.max!==undefined&&"string"==typeof t.max?e.push("availability_activetime:error_invalidnumber"):t.min!==undefined&&t.max!==undefined&&t.max*t.time_max<=t.min*t.time_min&&e.push("availability_activetime:error_backwardrange")}},"@VERSION@");