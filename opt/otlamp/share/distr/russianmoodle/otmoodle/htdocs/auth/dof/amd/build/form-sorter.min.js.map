{"version":3,"sources":["../src/form-sorter.js"],"names":["define","$","init","holder","items","handle","sortable","cursor","helper","event","element","css","width","height","opacity","axis","cursorAt","left","start","ui","placeholder","stop","result","i","forEach","item","children","find","attr","show"],"mappings":"AAuBAA,OAAM,wBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAE3B,MAAO,CACHC,IAAI,CAAE,cAASC,CAAT,CAAiBC,CAAjB,CAAwBC,CAAxB,CAAgC,CAClCJ,CAAC,CAACE,CAAD,CAAD,CAAUG,QAAV,CAAmB,CACfF,KAAK,CAAEA,CADQ,CAEfC,MAAM,CAAEA,CAFO,CAGfE,MAAM,CAAE,MAHO,CAIfC,MAAM,CAAE,gBAASC,CAAT,CAAgBC,CAAhB,CAAwB,CAC5B,MAAOT,CAAAA,CAAC,CAAC,OAAD,CAAD,CAAWU,GAAX,CAAe,CAClB,MAASD,CAAO,CAACE,KAAR,GAAgB,IADP,CAElB,OAAUF,CAAO,CAACG,MAAR,GAAiB,CAAjB,CAAmB,IAFX,CAGlB,WAAc,MAHI,CAAf,CAKV,CAVc,CAWfC,OAAO,CAAE,GAXM,CAYfC,IAAI,CAAE,GAZS,CAafC,QAAQ,CAAE,CAAEC,IAAI,CAAE,CAAR,CAbK,CAcfC,KAAK,CAAE,eAAST,CAAT,CAAgBU,CAAhB,CAAoB,CACvBA,CAAE,CAACC,WAAH,CAAeT,GAAf,CAAmB,CACf,OAAUQ,CAAE,CAACX,MAAH,CAAUK,MAAV,GAAmB,CAAnB,CAAqB,IADhB,CAAnB,CAGH,CAlBc,CAmBfQ,IAAI,CAAE,eAAU,IACRC,CAAAA,CAAM,CAAGrB,CAAC,CAACE,CAAD,CAAD,CAAUG,QAAV,CAAmB,SAAnB,CAA8B,CACvC,UAAa,gBAD0B,CAA9B,CADD,CAIRiB,CAAC,CAAG,CAJI,CAKZD,CAAM,CAACE,OAAP,CAAe,SAASC,CAAT,CAAe,CAC1BxB,CAAC,CAACE,CAAD,CAAD,CAAUuB,QAAV,CAAmB,wBAAwBD,CAAxB,CAA+B,KAAlD,EACSE,IADT,CACc,cADd,EAC8BC,IAD9B,CACmC,OADnC,CAC4CL,CAD5C,EAEAA,CAAC,EACJ,CAJD,EAKAtB,CAAC,CAAC,+BAAD,CAAD,CAAmC4B,IAAnC,EACH,CA9Bc,CAAnB,CAgCH,CAlCE,CAoCV,CAtCK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * From sorter.\n *\n * @module     auth_dof/form-sorter\n * @class      form-sorter\n * @package    auth_dof\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n\n    return {\n        init: function(holder, items, handle) {\n            $(holder).sortable({\n                items: items,\n                handle: handle,\n                cursor: 'move',\n                helper: function(event, element){\n                    return $('<div>').css({\n                        'width': element.width()+'px',\n                        'height': element.height()/2+'px',\n                        'background': '#EEE'\n                    });\n                },\n                opacity: 0.75,\n                axis: \"y\",\n                cursorAt: { left: 5 },\n                start: function(event, ui) {\n                    ui.placeholder.css({\n                        'height': ui.helper.height()/2+'px'\n                    });\n                },\n                stop: function(){\n                    var result = $(holder).sortable(\"toArray\", {\n                        'attribute': 'data-groupname'\n                    });\n                    var i = 0;\n                    result.forEach(function(item) {\n                        $(holder).children('div[data-groupname=\"'+ item + '\"]')\n                                .find('.order_field').attr('value', i);\n                        i++;\n                    });\n                    $('.heder_line .form_has_chenges').show();\n                }\n            });\n        }\n    };\n});\n"],"file":"form-sorter.min.js"}