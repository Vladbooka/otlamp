{"version":3,"sources":["../src/qtext-switcher.js"],"names":["define","$","notification","strman","init","shortened","parent","addClass","length","click","toggleClass","get_strings","key","component","done","strs","multiexpanderstates","multiexpander","text","data","removeClass","prepend","fail","exception"],"mappings":"AAAAA,OAAM,uCAAC,CAAC,QAAD,CAAW,mBAAX,CAAgC,UAAhC,CAAD,CAA8C,SAASC,CAAT,CAAYC,CAAZ,CAA0BC,CAA1B,CAAiC,CACjF,MAAO,CACHC,IAAI,CAAE,eAAW,CACb,GAAIC,CAAAA,CAAS,CAAGJ,CAAC,CAAC,gDAAD,CAAD,CAAoDK,MAApD,GAA6DC,QAA7D,CAAsE,WAAtE,EAAmFC,MAAnG,CACA,GAAgB,CAAZ,CAAAH,CAAJ,CACA,CACIJ,CAAC,CAAC,sDAAD,CAAD,CAA0DQ,KAA1D,CAAgE,UAAU,CAC1ER,CAAC,CAAC,IAAD,CAAD,CAAQK,MAAR,GAAiBI,WAAjB,CAA6B,oBAA7B,CACC,CAFD,EAIAP,CAAM,CAACQ,WAAP,CAAmB,CACf,CAAEC,GAAG,CAAE,UAAP,CAAmBC,SAAS,CAAE,sBAA9B,CADe,CAEf,CAAED,GAAG,CAAE,WAAP,CAAoBC,SAAS,CAAE,sBAA/B,CAFe,CAAnB,EAGGC,IAHH,CAGQ,SAASC,CAAT,CAAe,IAEfC,CAAAA,CAAmB,CAAG,CACtB,EAAGD,CAAI,CAAC,CAAD,CADe,CAEtB,EAAGA,CAAI,CAAC,CAAD,CAFe,CAFP,CAOfE,CAAa,CAAGhB,CAAC,CAAC,OAAD,CAAD,CACfM,QADe,CACN,kCADM,EAEfW,IAFe,CAEVF,CAAmB,CAAC,CAAD,CAFT,EAGfG,IAHe,CAGV,OAHU,CAGD,CAHC,EAIfV,KAJe,CAIT,UAAU,CACb,GAA6B,CAAzB,EAAAR,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,CAAa,OAAb,CAAJ,CACA,CACIlB,CAAC,CAAC,sDAAD,CAAD,CACKK,MADL,GACcc,WADd,CAC0B,WAD1B,EACuCb,QADvC,CACgD,UADhD,EAEAN,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,CAAa,OAAb,CAAsB,CAAtB,EAAyBD,IAAzB,CAA8BF,CAAmB,CAAC,CAAD,CAAjD,CACH,CALD,IAMA,CACIf,CAAC,CAAC,sDAAD,CAAD,CACKK,MADL,GACcc,WADd,CAC0B,UAD1B,EACsCb,QADtC,CAC+C,WAD/C,EAEAN,CAAC,CAAC,IAAD,CAAD,CAAQkB,IAAR,CAAa,OAAb,CAAsB,CAAtB,EAAyBD,IAAzB,CAA8BF,CAAmB,CAAC,CAAD,CAAjD,CACH,CACJ,CAhBe,CAPD,CAwBnBf,CAAC,CAAC,iCAAD,CAAD,CAAqCoB,OAArC,CAA6CJ,CAA7C,CACH,CA5BD,EA4BGK,IA5BH,CA4BQpB,CAAY,CAACqB,SA5BrB,CA6BH,CACJ,CAvCE,CAyCV,CA1CK,CAAN","sourcesContent":["define(['jquery', 'core/notification', 'core/str'], function($, notification, strman){\n    return {\n        init: function() {\n            var shortened = $('#questionnpcmrstatistics .qtext-cell .fulltext').parent().addClass('collapsed').length;\n            if( shortened > 0 )\n            {\n                $('#questionnpcmrstatistics .qtext-cell .qtext-expander').click(function(){\n                $(this).parent().toggleClass('collapsed expanded');\n                });\n\n                strman.get_strings([\n                    { key: 'fulltext', component: 'quiz_npcmrstatistics' },\n                    { key: 'shorttext', component: 'quiz_npcmrstatistics' }\n                ]).done(function(strs) {\n\n                    var multiexpanderstates = {\n                        1: strs[0],\n                        2: strs[1]\n                    };\n\n                    var multiexpander = $('<div>')\n                        .addClass('btn btn-primary fulltext-toggler')\n                        .text(multiexpanderstates[1])\n                        .data('state', 1)\n                        .click(function(){\n                            if ($(this).data('state') == 1)\n                            {\n                                $('#questionnpcmrstatistics .qtext-cell .qtext-expander')\n                                    .parent().removeClass('collapsed').addClass('expanded');\n                                $(this).data('state', 2).text(multiexpanderstates[2]);\n                            } else\n                            {\n                                $('#questionnpcmrstatistics .qtext-cell .qtext-expander')\n                                    .parent().removeClass('expanded').addClass('collapsed');\n                                $(this).data('state', 1).text(multiexpanderstates[1]);\n                            }\n                        });\n                    $('.npcmrstatistics-tablecontainer').prepend(multiexpander);\n                }).fail(notification.exception);\n            }\n        }\n    };\n});"],"file":"qtext-switcher.min.js"}