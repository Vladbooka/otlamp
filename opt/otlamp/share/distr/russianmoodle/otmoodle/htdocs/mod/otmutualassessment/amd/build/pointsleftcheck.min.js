define(["jquery"],function(a){return{_points:null,_leftpointsblock:null,_submit:null,_hiddenpoints:null,_leftpoints:null,init:function(b){var c=this;c._points=b,c._leftpointsblock=a(".otmutualassessment-grades-form div.leftpoints"),c._submit=a('.otmutualassessment-grades-form input[type="submit"]'),c._hiddenpoints=a('.otmutualassessment-grades-form input[name="pointsleft"]'),c.setLeftPoints(),a('.otmutualassessment-grades-form input[type="number"]').each(function(){a(this).on("change keyup",function(){c.setLeftPoints(),c._leftpoints<0?(c._leftpointsblock.addClass("negative"),a(this).val(Number(c._hiddenpoints.val())+Number(a(this).val())),c._leftpointsblock.html(0),c._hiddenpoints.val(0)):c._leftpointsblock.removeClass("negative"),c._leftpoints>0?c._submit.prop("disabled",!0):c._submit.prop("disabled",!1)})})},getPointsSumm:function(){var b=0;return a('.otmutualassessment-grades-form input[type="number"]').each(function(){b+=Number(a(this).val())}),b},setLeftPoints:function(){var a=this,b=a.getPointsSumm();a._leftpoints=a._points-b,a._leftpointsblock.html(a._leftpoints),a._hiddenpoints.val(a._leftpoints)}}});