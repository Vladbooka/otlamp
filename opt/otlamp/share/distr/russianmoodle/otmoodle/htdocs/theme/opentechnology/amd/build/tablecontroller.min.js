define ("theme_opentechnology/tablecontroller",["jquery"],function(a){return{__table:null,isVisible:function isVisible(){var b=this.__table,c=!0,d=b.width()+b.offset().left,e=a(window).width();if(e<d){c=!1}var f=b.height()+b.offset().top,g=a(window).height();if(g<f){c=!1}return c},dropController:function dropController(){var a=this.__table;if(a.parent().is("div.tablecontroller_wrapper")){a.unwrap()}},setController:function setController(){var b=this.__table;this.dropController(b);var c=a("<div class=\"tablecontroller_wrapper\"></div>");c.css({overflow:"auto",position:"relative","max-height":.8*a(window).height()+"px"});b.wrap(c);var d=b.find("thead > tr > th"),e=[];b.find("tbody > tr").each(function(){a(this).children("td,th").each(function(){if("th"==a(this).prop("tagName").toLowerCase()){if(e instanceof a&&0<e.length){e=e.add(a(this))}else{e=a(this)}}else{return!1}})});b.parent().on("scroll",function(){if(d instanceof a&&0<d.length){d.addClass("fixed");d.css({top:-1*b.position().top+"px",position:"relative","z-index":9999})}if(e instanceof a&&0<e.length){e.addClass("fixed");e.css({left:-1*b.position().left+"px",position:"relative","z-index":9998})}})},initSingleController:function initSingleController(b){var c=this;c.__table=b;a(window).on("resize",function(){if(c.isVisible()){c.dropController()}else{c.setController()}});a(window).resize()},init:function init(){var b=this;a("table.generaltable").each(function(){b.initSingleController(a(this))})}}});
//# sourceMappingURL=tablecontroller.min.js.map
